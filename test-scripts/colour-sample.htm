<!DOCTYPE html>
<html>
<head>
<title>Peckham Sentiment</title>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1"> 
<meta name="viewport" content="width = device-width, initial-scale = 1.0 ,  minimum-scale = 1.0,  maximum-scale=1.0">

<link href="base.css" type="text/css" rel="stylesheet"/>
</head>
<body>


<script type="text/javascript" src="colour-theif.js"></script>
<script type="text/javascript">

// create canvas
var canvas; 

// canvas context
var context;

// start
document.addEventListener("DOMContentLoaded", function() {
      
    // Add and get the canvas context
	canvas = document.createElement("canvas");
	document.body.appendChild(canvas);
	context = canvas.getContext('2d');
	
	//
	var colour_thief = new ColorThief();
	
	// Load in an image and sample it
	var image = new Image();
		
		image.addEventListener("load", function(evt){
		
			console.log(colour_thief.getColor(image));
			console.log(colour_thief.getPalette(image));
	 
			var colour_palette = colour_thief.getPalette(image);
			
			 // Create gradients
			 var radgrad = context.createRadialGradient(45,45,10,52,50,100);
			 
			 for(var a = 0, length = colour_palette.length;  a < 3; a++) {
			 console.log(parseFloat(a*0.1).toFixed(1))
			 
			 var step = parseFloat(a*0.1).toFixed(1);
			 if(a===0) step = 0;
			
			 radgrad.addColorStop(a*0.33, 'rgb('+colour_palette[a].toString()+')');
			 	
			

			 }
			 
			radgrad.addColorStop(1, 'rgba(0,0,0,0)');
			 
			 // draw shapes
			 context.fillStyle = radgrad;
			 context.fillRect(0,0,150,150);

		});
		
		
		image.setAttribute("src","../samples/bar-story.jpg");
		image.setAttribute("src","../samples/peckham-rye.jpg");
		image.setAttribute("src","../samples/franks.jpg");
		
	

  

});


 
	


</script>

</body>
</html>